<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SimRacing AI Coach</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- Unified Single Screen Layout -->
  <div class="app-container">

    <!-- Left Sidebar -->
    <aside class="sidebar">
      <!-- Logo & Title -->
      <div class="sidebar-header">
        <div class="logo">
          <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M24 4L8 12V22C8 32 14 40 24 44C34 40 40 32 40 22V12L24 4Z" fill="url(#shield-gradient)"
              stroke="url(#shield-border)" stroke-width="2" />
            <defs>
              <linearGradient id="shield-gradient" x1="8" y1="4" x2="40" y2="44" gradientUnits="userSpaceOnUse">
                <stop stop-color="#667eea" />
                <stop offset="1" stop-color="#764ba2" />
              </linearGradient>
              <linearGradient id="shield-border" x1="8" y1="4" x2="40" y2="44" gradientUnits="userSpaceOnUse">
                <stop stop-color="#667eea" stop-opacity="0.5" />
                <stop offset="1" stop-color="#764ba2" stop-opacity="0.5" />
              </linearGradient>
            </defs>
          </svg>
        </div>
        <h1 class="app-title">SimRacing<br />Coach</h1>
      </div>

      <!-- Configuration Section -->
      <div class="config-section">
        <div class="form-group">
          <label for="simulator-select">Simulador</label>
          <select id="simulator-select" class="select-input">
            <option value="iracing">iRacing</option>
            <option value="mock-iracing">iRacing (Mock)</option>
          </select>
        </div>

        <div class="form-group">
          <label for="language-select">Idioma/Language</label>
          <select id="language-select" class="select-input">
            <option value="es">EspaÃ±ol</option>
            <option value="en">English</option>
            <option value="pt">PortuguÃªs</option>
          </select>
        </div>

        <button id="test-voice-btn" class="btn-secondary">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M11 5L6 9H2v6h4l5 4V5z" />
            <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07" />
          </svg>
          Probar Voz
        </button>
      </div>

      <!-- Control Buttons (Focus & Mute) -->
      <div class="control-buttons">
        <button id="focus-btn" class="btn-control" title="Modo Foco">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3" />
            <path d="M12 1v6m0 6v6m6-11h-6m-6 0H1" />
          </svg>
        </button>
        <button id="mute-btn" class="btn-control" title="Silenciar">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M11 5L6 9H2v6h4l5 4V5z" />
            <path d="M23 9l-6 6m0-6l6 6" />
          </svg>
        </button>
      </div>

      <!-- Action Button (fixed at bottom) -->
      <div class="sidebar-footer">
        <button id="start-btn" class="btn-primary">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M8 5v14l11-7z" />
          </svg>
          Iniciar Coaching
        </button>
        <button id="stop-btn" class="btn-danger hidden">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <rect x="6" y="6" width="12" height="12" />
          </svg>
          Detener Coaching
        </button>
      </div>
    </aside>

    <!-- Main Content Area -->
    <main class="main-content">

      <!-- Status Bar -->
      <div class="status-bar">
        <div class="status-left">
          <svg class="status-icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M12 2L4 6V12C4 16 6 20 12 22C18 20 20 16 20 12V6L12 2Z" fill="currentColor" opacity="0.2"
              stroke="currentColor" stroke-width="2" />
          </svg>
          <span class="status-label">Estado:</span>
          <span id="coach-state" class="status-value">Desconectado</span>
          <div id="audio-waves" class="audio-waves" style="display: none;">
            <div class="wave"></div>
            <div class="wave"></div>
            <div class="wave"></div>
          </div>
        </div>
        <div class="status-right">
          <div class="connection-dot"></div>
          <span id="sim-name" class="sim-name">â€”</span>
        </div>
      </div>

      <!-- Recommendations Feed Card -->
      <div class="card recommendations-feed-card">
        <div class="feed-header">
          <span class="feed-title">Recomendaciones</span>
          <span id="feed-count" class="feed-count">0</span>
        </div>
        <div class="recommendations-list" id="recommendations-list">
          <div class="feed-empty">
            <span class="empty-icon">ðŸ’¬</span>
            <p>AÃºn no hay recomendaciones</p>
          </div>
        </div>
      </div>

      <!-- Last Recommendation Card -->
      <div id="last-recommendation" class="card recommendation-card" style="display: none;">
        <div class="rec-header">
          <span class="rec-title">ÃšLTIMA RECOMENDACIÃ“N</span>
          <span id="rec-time" class="rec-timestamp">â€”</span>
        </div>
        <div class="rec-content">
          <div id="rec-icon" class="rec-icon">ðŸŽ¯</div>
          <p id="rec-text" class="rec-message">â€”</p>
        </div>
      </div>

    </main>

  </div>

  <script src="renderer.js"></script>
</body>

</html>